(window.webpackJsonpAntd=window.webpackJsonpAntd||[]).push([[37],{1367:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));n(868);var a=n(869),o=n.n(a),s=n(0),r=n.n(s),c=n(569);const{Countdown:i}=o.a;function u(){const e={onFinish:(e,t)=>{UniversalDashboard.publish("element-event",{type:"clientEvent",eventId:e+"onFinish",eventName:"onFinish",eventData:JSON.stringify({id:e,value:t})})}},t=function(e){const t=r.a.useMemo(()=>({id:e,...n})=>{const{onFinish:a}=t.api,[{attributes:o}]=Object(c.a)(e,n),{prefix:s,suffix:u,format:l,title:d,value:b,valueStyle:v}=o;return r.a.createElement(i,{prefix:s&&UniversalDashboard.renderComponent(s),suffix:u&&UniversalDashboard.renderComponent(u),format:l,value:b,title:d,valueStyle:v,onFinish:()=>a(e,b)})},[]);return t.api=e,t.displayName="AntdCountDown",t}(e);return{...e,UDAntdCountDown:t}}function l(e){const{UDAntdCountDown:t}=u();return r.a.createElement(t,e)}},568:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(10),o=n(570),s=n.n(o);const r=e=>{const t="?".concat(s.a.stringify(Object(a.i)()));return"".concat("/api/internal/component/element/").concat(e).concat(t)}},569:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n(0),o=n.n(a),s=n(568);function r(e,t){const n=o.a.useRef();n.current=t,o.a.useEffect(()=>{const t=UniversalDashboard.subscribe(e,n.current);return()=>UniversalDashboard.unsubscribe(t)},[e])}const c=(e,t="",n={})=>{UniversalDashboard.publish("element-event",{type:"clientEvent",eventId:"".concat(e).concat(t),eventName:t,eventData:n})};function i(e,t){const{content:n,...o}=t,[i,u]=Object(a.useState)({content:n,attributes:o,onEvent:c});r(e,(e,t)=>{switch(t.type){case"setState":console.log("dashboard event set state",t.state),u(e=>({attributes:{...e.attributes,...t.state.attributes},content:{...t.state.content}}));break;case"requestState":console.log("REQUEST_STATE: ",i),UniversalDashboard.post("/api/internal/component/element/sessionState/".concat(t.requestId),{state:i});break;case"addElement":u(e=>({...e,content:e.content.concat(t.elements)}));break;case"removeElement":u(e=>{console.log("remove element event",t);let n=e.content.filter(e=>e.id!==t.componentId);return{...e,content:[...n]}});break;case"clearElement":u(e=>({...e,content:[]}));break;case"syncElement":l()}});const l=()=>{UniversalDashboard.get(Object(s.a)(e),e=>u(t=>({...t,content:e})))};return[i,l,u]}}}]);