(window.webpackJsonpAntd=window.webpackJsonpAntd||[]).push([[22],{1159:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(584)),a=c(n(633)),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=c(n(0)),s=c(n(22));function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u="antd-pro-avatar-list-avatarList",f="antd-pro-avatar-list-avatarItem",d="antd-pro-avatar-list-avatarItemLarge",p="antd-pro-avatar-list-avatarItemSmall",m="antd-pro-avatar-list-avatarItemMini",v=function(t){var e;return(0,s.default)(f,(l(e={},d,"large"===t),l(e,p,"small"===t),l(e,m,"mini"===t),e))},g=function(t){var e=t.children,n=t.size,r=t.maxLength,s=t.excessItemsStyle,c=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["children","size","maxLength","excessItemsStyle"]),l=i.default.Children.count(e),f=r>=l?l:r,d=i.default.Children.toArray(e).slice(0,f).map((function(t){return i.default.cloneElement(t,{size:n})}));if(f<l){var p=v(n);d.push(i.default.createElement("li",{key:"exceed",className:p},i.default.createElement(a.default,{size:n,style:s},"+"+(l-r))))}return i.default.createElement("div",o({},c,{className:u}),i.default.createElement("ul",null," ",d," "))};g.Item=function(t){var e=t.src,n=t.size,o=t.tips,s=t.onClick,c=void 0===s?function(){}:s,l=v(n);return i.default.createElement("li",{className:l,onClick:c},o?i.default.createElement(r.default,{title:o},i.default.createElement(a.default,{src:e,size:n,style:{cursor:"pointer"}})):i.default.createElement(a.default,{src:e,size:n}))},e.default=g,t.exports=e.default},1160:function(t,e,n){n(1161),n(599),n(631)},1161:function(t,e,n){(function(t){var r=function(t){var r={id:t.id,exports:{}};return function(t){var r=n(86);(e=r(!1)).push([t.id,'/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\n/* stylelint-disable no-duplicate-selectors */\n/* stylelint-disable */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors,string-no-newline */\n.antd-pro-avatar-list-avatarList {\n  display: inline-block;\n}\n.antd-pro-avatar-list-avatarList ul {\n  display: inline-block;\n  margin-left: 8px;\n  font-size: 0;\n}\n.antd-pro-avatar-list-avatarItem {\n  display: inline-block;\n  width: "[theme:avatarSizeBase,default:32px]";\n  height: "[theme:avatarSizeBase,default:32px]";\n  margin-left: -8px;\n  font-size: "[theme:fontSizeBase,default:14px]";\n}\n.antd-pro-avatar-list-avatarItem .ant-avatar {\n  border: 1px solid #fff;\n}\n.antd-pro-avatar-list-avatarItemLarge {\n  width: "[theme:avatarSizeLg,default:40px]";\n  height: "[theme:avatarSizeLg,default:40px]";\n}\n.antd-pro-avatar-list-avatarItemSmall {\n  width: "[theme:avatarSizeSm,default:24px]";\n  height: "[theme:avatarSizeSm,default:24px]";\n}\n.antd-pro-avatar-list-avatarItemMini {\n  width: 20px;\n  height: 20px;\n}\n.antd-pro-avatar-list-avatarItemMini .ant-avatar {\n  width: 20px;\n  height: 20px;\n  line-height: 20px;\n}\n.antd-pro-avatar-list-avatarItemMini .ant-avatar .ant-avatar-string {\n  font-size: 12px;\n  line-height: 18px;\n}\n',""]),t.exports=e}(r),r.exports}(t),a=n(79);"string"==typeof r&&(r=[[t.i,r]]);for(var o=0;o<r.length;o++)a.loadStyles(r[o][1],!1);r.locals&&(t.exports=r.locals)}).call(this,n(78)(t))},1388:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return m}));n(669);var r=n(670),a=n.n(r),o=n(0),i=n.n(o),s=n(1159),c=n.n(s),l=(n(1160),n(569)),u=n(34),f=n(568),d=n(148);const p=Object(d.a)("ud-dashboard");function m({id:t,...e}){const[{attributes:n}]=Object(l.a)(t,e),{autoRefresh:r,refreshInterval:o,...s}=n,{data:d,status:m,error:v}=function(t,e,n){const r=Object(f.a)(t);return Object(u.useQuery)(["avatarList",{id:t}],async()=>{const t=await fetch(r,{headers:{dashboardid:p,UDConnectionId:UniversalDashboard.connectionId}});return await t.json()},{refetchInterval:e&&n,refetchIntervalInBackground:e})}(t,r,o);return"loading"===m?i.a.createElement(a.a.Avatar,{active:!0,size:"default"}):"error"===m?i.a.createElement(Alert,{message:v.message,type:"error"}):i.a.createElement(c.a,s,d.map(t=>i.a.createElement(c.a.Item,{key:t.id,tips:UniversalDashboard.renderComponent(t.tips),src:t.src,onClick:()=>UniversalDashboard.publish("element-event",{type:"clientEvent",eventId:t.id+"onClick",eventName:"onClick",eventData:""})})))}m.displayName="AntdAvatarList"},568:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(10),a=n(570),o=n.n(a);const i=t=>{const e="?".concat(o.a.stringify(Object(r.i)()));return"".concat("/api/internal/component/element/").concat(t).concat(e)}},569:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return c}));var r=n(0),a=n.n(r),o=n(568);function i(t,e){const n=a.a.useRef();n.current=e,a.a.useEffect(()=>{const e=UniversalDashboard.subscribe(t,n.current);return()=>UniversalDashboard.unsubscribe(e)},[t])}const s=(t="",e={})=>{UniversalDashboard.publish("element-event",{type:"clientEvent",eventId:"".concat(elementId).concat(t),eventName:t,eventData:e})};function c(t,e){const{content:n,...a}=e,[c,l]=Object(r.useState)({content:n,attributes:a,onEvent:s});i(t,(t,e)=>{switch(e.type){case"setState":console.log("dashboard event set state",e.state),l(t=>({attributes:{...t.attributes,...e.state.attributes},content:{...e.state.content}}));break;case"requestState":console.log("REQUEST_STATE: ",c),UniversalDashboard.post("/api/internal/component/element/sessionState/".concat(e.requestId),{state:c});break;case"addElement":l(t=>({...t,content:t.content.concat(e.elements)}));break;case"removeElement":l(t=>{console.log("remove element event",e);let n=t.content.filter(t=>t.id!==e.componentId);return{...t,content:[...n]}});break;case"clearElement":l(t=>({...t,content:[]}));break;case"syncElement":u()}});const u=()=>{UniversalDashboard.get(Object(o.a)(t),t=>l(e=>({...e,content:t})))};return[c,u,l]}},570:function(t,e,n){"use strict";const r=n(571),a=n(572),o=n(573);function i(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}function c(t,e){return e.decode?a(t):t}function l(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function u(t){const e=(t=l(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function f(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function d(t,e){i((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const n=function(t){let e;switch(t.arrayFormat){case"index":return(t,n,r)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return(t,n,r)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};case"comma":case"separator":return(e,n,r)=>{const a="string"==typeof n&&n.split("").indexOf(t.arrayFormatSeparator)>-1?n.split(t.arrayFormatSeparator).map(e=>c(e,t)):null===n?n:c(n,t);r[e]=a};default:return(t,e,n)=>{void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e),r=Object.create(null);if("string"!=typeof t)return r;if(!(t=t.trim().replace(/^[?#&]/,"")))return r;for(const a of t.split("&")){let[t,i]=o(e.decode?a.replace(/\+/g," "):a,"=");i=void 0===i?null:["comma","separator"].includes(e.arrayFormat)?i:c(i,e),n(c(t,e),i,r)}for(const t of Object.keys(r)){const n=r[t];if("object"==typeof n&&null!==n)for(const t of Object.keys(n))n[t]=f(n[t],e);else r[t]=f(n,e)}return!1===e.sort?r:(!0===e.sort?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce((t,e)=>{const n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort((t,e)=>Number(t)-Number(e)).map(t=>e[t]):e}(n):t[e]=n,t},Object.create(null))}e.extract=u,e.parse=d,e.stringify=(t,e)=>{if(!t)return"";i((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const n=n=>e.skipNull&&null==t[n]||e.skipEmptyString&&""===t[n],r=function(t){switch(t.arrayFormat){case"index":return e=>(n,r)=>{const a=n.length;return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,[s(e,t),"[",a,"]"].join("")]:[...n,[s(e,t),"[",s(a,t),"]=",s(r,t)].join("")]};case"bracket":return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,[s(e,t),"[]"].join("")]:[...n,[s(e,t),"[]=",s(r,t)].join("")];case"comma":case"separator":return e=>(n,r)=>null==r||0===r.length?n:0===n.length?[[s(e,t),"=",s(r,t)].join("")]:[[n,s(r,t)].join(t.arrayFormatSeparator)];default:return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,s(e,t)]:[...n,[s(e,t),"=",s(r,t)].join("")]}}(e),a={};for(const e of Object.keys(t))n(e)||(a[e]=t[e]);const o=Object.keys(a);return!1!==e.sort&&o.sort(e.sort),o.map(n=>{const a=t[n];return void 0===a?"":null===a?s(n,e):Array.isArray(a)?a.reduce(r(n),[]).join("&"):s(n,e)+"="+s(a,e)}).filter(t=>t.length>0).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[n,r]=o(t,"#");return Object.assign({url:n.split("?")[0]||"",query:d(u(t),e)},e&&e.parseFragmentIdentifier&&r?{fragmentIdentifier:c(r,e)}:{})},e.stringifyUrl=(t,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=l(t.url).split("?")[0]||"",a=e.extract(t.url),o=e.parse(a,{sort:!1}),i=Object.assign(o,t.query);let c=e.stringify(i,n);c&&(c="?"+c);let u=function(t){let e="";const n=t.indexOf("#");return-1!==n&&(e=t.slice(n)),e}(t.url);return t.fragmentIdentifier&&(u="#"+s(t.fragmentIdentifier,n)),`${r}${c}${u}`}},571:function(t,e,n){"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,t=>"%"+t.charCodeAt(0).toString(16).toUpperCase())},572:function(t,e,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),a=new RegExp("(%[a-f0-9]{2})+","gi");function o(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],o(n),o(r))}function i(t){try{return decodeURIComponent(t)}catch(a){for(var e=t.match(r),n=1;n<e.length;n++)e=(t=o(e,n).join("")).match(r);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},n=a.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var r=i(n[0]);r!==n[0]&&(e[n[0]]=r)}n=a.exec(t)}e["%C2"]="�";for(var o=Object.keys(e),s=0;s<o.length;s++){var c=o[s];t=t.replace(new RegExp(c,"g"),e[c])}return t}(t)}}},573:function(t,e,n){"use strict";t.exports=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const n=t.indexOf(e);return-1===n?[t]:[t.slice(0,n),t.slice(n+e.length)]}},631:function(t,e,n){"use strict";n(108),n(632)},632:function(t,e,n){(function(t){var r=function(t){var r={id:t.id,exports:{}};return function(t){var r=n(86);(e=r(!1)).push([t.id,'/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\n/* stylelint-disable no-duplicate-selectors */\n/* stylelint-disable */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors,string-no-newline */\n.ant-avatar {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  color: "[theme:textColor,default:rgba(0, 0, 0, 0.65)]";\n  font-size: "[theme:fontSizeBase,default:14px]";\n  font-variant: tabular-nums;\n  line-height: "[theme:lineHeightBase,default:1.5715]";\n  list-style: none;\n  font-feature-settings: \'tnum\';\n  position: relative;\n  display: inline-block;\n  overflow: hidden;\n  color: #fff;\n  white-space: nowrap;\n  text-align: center;\n  vertical-align: middle;\n  background: "[theme:avatarBg,default:#ccc]";\n  width: "[theme:avatarSizeBase,default:32px]";\n  height: "[theme:avatarSizeBase,default:32px]";\n  line-height: "[theme:avatarSizeBase,default:32px]";\n  border-radius: 50%;\n}\n.ant-avatar-image {\n  background: transparent;\n}\n.ant-avatar-string {\n  position: absolute;\n  left: 50%;\n  transform-origin: 0 center;\n}\n.ant-avatar.ant-avatar-icon {\n  font-size: "[theme:avatarFontSizeBase,default:18px]";\n}\n.ant-avatar.ant-avatar-icon > .anticon {\n  margin: 0;\n}\n.ant-avatar-lg {\n  width: "[theme:avatarSizeLg,default:40px]";\n  height: "[theme:avatarSizeLg,default:40px]";\n  line-height: "[theme:avatarSizeLg,default:40px]";\n  border-radius: 50%;\n}\n.ant-avatar-lg-string {\n  position: absolute;\n  left: 50%;\n  transform-origin: 0 center;\n}\n.ant-avatar-lg.ant-avatar-icon {\n  font-size: "[theme:avatarFontSizeLg,default:24px]";\n}\n.ant-avatar-lg.ant-avatar-icon > .anticon {\n  margin: 0;\n}\n.ant-avatar-sm {\n  width: "[theme:avatarSizeSm,default:24px]";\n  height: "[theme:avatarSizeSm,default:24px]";\n  line-height: "[theme:avatarSizeSm,default:24px]";\n  border-radius: 50%;\n}\n.ant-avatar-sm-string {\n  position: absolute;\n  left: 50%;\n  transform-origin: 0 center;\n}\n.ant-avatar-sm.ant-avatar-icon {\n  font-size: "[theme:avatarFontSizeSm,default:14px]";\n}\n.ant-avatar-sm.ant-avatar-icon > .anticon {\n  margin: 0;\n}\n.ant-avatar-square {\n  border-radius: 2px;\n}\n.ant-avatar > img {\n  display: block;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n',""]),t.exports=e}(r),r.exports}(t),a=n(79);"string"==typeof r&&(r=[[t.i,r]]);for(var o=0;o<r.length;o++)a.loadStyles(r[o][1],!1);r.locals&&(t.exports=r.locals)}).call(this,n(78)(t))},633:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=l();if(e&&e.has(t))return e.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=a?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(0)),o=c(n(22)),i=n(45),s=c(n(234));function c(t){return t&&t.__esModule?t:{default:t}}function l(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var m=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]])}return n},v=function(t){var e,n,r,c,l=d(a.useState(1),2),p=l[0],v=l[1],g=d(a.useState(!1),2),y=(g[0],g[1]),h=d(a.useState(!0),2),b=h[0],x=h[1],S=a.useRef(),j=a.useRef(),O=a.useContext(i.ConfigContext).getPrefixCls,w=function(){if(j.current&&S.current){var e=j.current.offsetWidth,n=S.current.offsetWidth,a=t.gap,o=void 0===a?4:a;0===e||0===n||r===e&&c===n||(r=e,c=n),2*o<n&&v(n-2*o<e?(n-2*o)/e:1)}};a.useEffect((function(){w(),y(!0)}),[]),a.useEffect((function(){x(!0),v(1)}),[t.src]),a.useEffect((function(){w()}),[t.children,t.gap]),a.useEffect((function(){t.children&&w()}),[b]);var E=t.prefixCls,k=t.shape,I=t.size,z=t.src,C=t.srcSet,N=t.icon,A=t.className,F=t.alt,U=t.draggable,L=m(t,["prefixCls","shape","size","src","srcSet","icon","className","alt","draggable"]);(0,s.default)(!("string"==typeof N&&N.length>2),"Avatar","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(N,"` at https://ant.design/components/icon"));var P=O("avatar",E),R=(0,o.default)((f(e={},"".concat(P,"-lg"),"large"===I),f(e,"".concat(P,"-sm"),"small"===I),e)),B=(0,o.default)(P,A,R,(f(n={},"".concat(P,"-").concat(k),k),f(n,"".concat(P,"-image"),z&&b),f(n,"".concat(P,"-icon"),N),n)),D="number"==typeof I?{width:I,height:I,lineHeight:"".concat(I,"px"),fontSize:N?I/2:18}:{},M=t.children;if(z&&b)M=a.createElement("img",{src:z,draggable:U,srcSet:C,onError:function(){var e=t.onError;!1!==(e?e():void 0)&&x(!1)},alt:F});else if(N)M=N;else{if(j.current||1!==p){var _="scale(".concat(p,") translateX(-50%)"),T={msTransform:_,WebkitTransform:_,transform:_},$="number"==typeof I?{lineHeight:"".concat(I,"px")}:{};M=a.createElement("span",{className:"".concat(P,"-string"),ref:function(t){j.current=t},style:u(u({},$),T)},M)}else{M=a.createElement("span",{className:"".concat(P,"-string"),style:{opacity:0},ref:function(t){j.current=t}},M)}}return delete L.onError,delete L.gap,a.createElement("span",u({},L,{style:u(u({},D),L.style),className:B,ref:function(t){S.current=t}}),M)};v.defaultProps={shape:"circle",size:"default"};var g=v;e.default=g}}]);