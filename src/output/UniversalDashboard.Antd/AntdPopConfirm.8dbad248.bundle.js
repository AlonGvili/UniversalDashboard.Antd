(window.webpackJsonpAntd=window.webpackJsonpAntd||[]).push([[61],{1161:function(e,t,n){"use strict";n(109),n(852),n(601)},1162:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=N();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var c=a?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=b(n(167)),c=b(n(678)),i=b(n(592)),s=b(n(602)),l=n(845),u=b(n(166)),f=b(n(176)),E=n(45),d=n(853),p=n(150);function b(e){return e&&e.__esModule?e:{default:e}}function N(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return N=function(){return e},e}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},S=a.forwardRef((function(e,t){var n=O(a.useState(e.visible),2),r=n[0],o=n[1];a.useEffect((function(){"visible"in e&&o(e.visible)}),[e.visible]),a.useEffect((function(){"defaultVisible"in e&&o(e.defaultVisible)}),[e.defaultVisible]);var b=function(t,n){"visible"in e||o(t),e.onVisibleChange&&e.onVisibleChange(t,n)},N=function(t){b(!1,t),e.onConfirm&&e.onConfirm.call(void 0,t)},y=function(t){b(!1,t),e.onCancel&&e.onCancel.call(void 0,t)},S=a.useContext(E.ConfigContext).getPrefixCls,C=e.prefixCls,_=e.placement,U=e.children,T=m(e,["prefixCls","placement","children"]),A=S("popover",C),M=a.createElement(u.default,{componentName:"Popconfirm",defaultLocale:f.default.Popconfirm},(function(t){return function(t,n){var r=e.okButtonProps,o=e.cancelButtonProps,c=e.title,i=e.cancelText,u=e.okText,f=e.okType,E=e.icon;return a.createElement("div",{className:"".concat(t,"-inner-content")},a.createElement("div",{className:"".concat(t,"-message")},E,a.createElement("div",{className:"".concat(t,"-message-title")},(0,d.getRenderPropValue)(c))),a.createElement("div",{className:"".concat(t,"-buttons")},a.createElement(s.default,v({onClick:y,size:"small"},o),i||n.cancelText),a.createElement(s.default,v({onClick:N},(0,l.convertLegacyProps)(f),{size:"small"},r),u||n.okText)))}(A,t)}));return a.createElement(i.default,v({},T,{prefixCls:A,placement:_,onVisibleChange:function(t){e.disabled||b(t)},visible:r,overlay:M,ref:t}),(0,p.cloneElement)(U,{onKeyDown:function(e){var t,n;null===(n=null==U?void 0:(t=U.props).onKeyDown)||void 0===n||n.call(t,e),function(e){e.keyCode===c.default.ESC&&r&&b(!1,e)}(e)}}))}));S.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:a.createElement(o.default,null),disabled:!1};var C=S;t.default=C},1348:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));n(1161);var r=n(1162),a=n.n(r),o=n(0),c=n.n(o),i=n(575);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l({id:e,...t}){const[{content:n,attributes:r}]=Object(i.a)(e,t),[o,l]=c.a.useState(!1);return c.a.createElement(a.a,s({id:e},r,{onCancel:t=>{console.log(t),UniversalDashboard.publish("element-event",{type:"clientEvent",eventId:e+"onCancel",eventName:"onCancel",eventData:""})},onConfirm:t=>{UniversalDashboard.publish("element-event",{type:"clientEvent",eventId:e+"onConfirm",eventName:"onConfirm",eventData:""})},visible:o,onVisibleChange:e=>l(e),icon:r.icon&&UniversalDashboard.renderComponent(r.icon)}),UniversalDashboard.renderComponent(n))}},575:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i}));var r=n(0),a=n.n(r),o=n(148);function c(e,t){const n=a.a.useRef();n.current=t,a.a.useEffect(()=>{const t=UniversalDashboard.subscribe(e,n.current);return()=>UniversalDashboard.unsubscribe(t)},[e])}function i(e,t){const{content:n,...a}=t,[i,s]=Object(r.useState)({content:n,attributes:a});c(e,(e,t)=>{switch(t.type){case"setState":console.log("dashboard event set state",t.state),s(e=>({attributes:{...e.attributes,...t.state.attributes},content:{...t.state.content}}));break;case"requestState":console.log("REQUEST_STATE: ",i),UniversalDashboard.post("/api/internal/component/element/sessionState/".concat(t.requestId),{state:i});break;case"addElement":s(e=>({...e,content:e.content.concat(t.elements)}));break;case"removeElement":s(e=>{console.log("remove element event",t);let n=e.content.filter(e=>e.id!==t.componentId);return{...e,content:[...n]}});break;case"clearElement":s(e=>({...e,content:[]}));break;case"syncElement":l()}});const l=()=>{UniversalDashboard.get(Object(o.a)(e),e=>s(t=>({...t,content:e})))};return[i,l,s]}},678:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=r.F1&&t<=r.F12)return!1;switch(t){case r.ALT:case r.CAPS_LOCK:case r.CONTEXT_MENU:case r.CTRL:case r.DOWN:case r.END:case r.ESC:case r.HOME:case r.INSERT:case r.LEFT:case r.MAC_FF_META:case r.META:case r.NUMLOCK:case r.NUM_CENTER:case r.PAGE_DOWN:case r.PAGE_UP:case r.PAUSE:case r.PRINT_SCREEN:case r.RIGHT:case r.SHIFT:case r.UP:case r.WIN_KEY:case r.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=r.ZERO&&e<=r.NINE)return!0;if(e>=r.NUM_ZERO&&e<=r.NUM_MULTIPLY)return!0;if(e>=r.A&&e<=r.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case r.SPACE:case r.QUESTION_MARK:case r.NUM_PLUS:case r.NUM_MINUS:case r.NUM_PERIOD:case r.NUM_DIVISION:case r.SEMICOLON:case r.DASH:case r.EQUALS:case r.COMMA:case r.PERIOD:case r.SLASH:case r.APOSTROPHE:case r.SINGLE_QUOTE:case r.OPEN_SQUARE_BRACKET:case r.BACKSLASH:case r.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},a=r;t.default=a}}]);