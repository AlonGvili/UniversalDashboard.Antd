(window.webpackJsonpAntd=window.webpackJsonpAntd||[]).push([[69],{1331:function(e,t,n){"use strict";n.r(t);n(257);var a=n(95),r=n.n(a),s=n(0),o=n.n(s),c=n(575);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}t.default=e=>{const[t,n]=Object(c.a)(e.id,e),{content:a,attributes:u}=t,[l,d]=Object(s.useState)(!0);return o.a.createElement(r.a.Sider,i({},u,{onCollapse:e=>d(!l),collapsed:l,collapsible:!0}),UniversalDashboard.renderComponent(a))}},1359:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));n(257);var a=n(95),r=n.n(a),s=(n(238),n(91)),o=n.n(s),c=n(0),i=n.n(c),u=n(179);var l=n(21),d=n(72),b=n(148);const p=Object(d.a)("ud-dashboard");var f=n(575),h=n(164);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function m({id:e,...t}){const[{name:n}]=Object(h.useTheme)(),{data:a,status:s,error:c}=function(e){const t=Object(b.a)(e);return Object(l.useQuery)(["sidebar",{url:t}],async()=>{const e=await fetch(t,{headers:{dashboardid:p,UDConnectionId:UniversalDashboard.connectionId}});return await e.json()})}(e),[{attributes:d}]=Object(f.a)(e,t),m=(()=>{const[{isOpen:e}]=u.a.useStore();return e})(),O=(()=>{const[e,t]=u.a.useStore();return()=>t(e=>({...e,isOpen:!e.isOpen}))})(),{visible:j,...y}=d;return j&&i.a.createElement(r.a.Sider,v({},y,{theme:"dark"===n?"dark":"light",collapsible:!0,collapsed:!m,onCollapse:()=>O()}),i.a.createElement(o.a.ErrorBoundary,null,UniversalDashboard.renderComponent(a)))}m.displayName="AntdSideBar"},575:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a),s=n(148);function o(e,t){const n=r.a.useRef();n.current=t,r.a.useEffect(()=>{const t=UniversalDashboard.subscribe(e,n.current);return()=>UniversalDashboard.unsubscribe(t)},[e])}function c(e,t){const{content:n,...r}=t,[c,i]=Object(a.useState)({content:n,attributes:r});o(e,(e,t)=>{switch(t.type){case"setState":console.log("dashboard event set state",t.state),i(e=>({attributes:{...e.attributes,...t.state.attributes},content:{...t.state.content}}));break;case"requestState":console.log("REQUEST_STATE: ",c),UniversalDashboard.post("/api/internal/component/element/sessionState/".concat(t.requestId),{state:c});break;case"addElement":i(e=>({...e,content:e.content.concat(t.elements)}));break;case"removeElement":i(e=>{console.log("remove element event",t);let n=e.content.filter(e=>e.id!==t.componentId);return{...e,content:[...n]}});break;case"clearElement":i(e=>({...e,content:[]}));break;case"syncElement":u()}});const u=()=>{UniversalDashboard.get(Object(s.a)(e),e=>i(t=>({...t,content:e})))};return[c,u,i]}}}]);