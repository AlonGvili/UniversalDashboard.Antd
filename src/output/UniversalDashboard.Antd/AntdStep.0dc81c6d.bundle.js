(window.webpackJsonpAntd=window.webpackJsonpAntd||[]).push([[79],{1349:function(t,e,n){"use strict";n.r(e);n(873);var a=n(874),c=n.n(a),s=n(0),o=n.n(s),r=n(569);function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}const{Step:u}=c.a,l=t=>{const[e,n,a]=Object(r.a)(t.id,t),{content:c,attributes:s}=e,{id:l,key:b,title:d,subTitle:p,description:v,...f}=s;return o.a.createElement(u,i({},f,{id:l,key:b,title:d,subTitle:p,description:v}))};l.displayName="UDAntdStep",e.default=l},568:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(10),c=n(570),s=n.n(c);const o=t=>{const e="?".concat(s.a.stringify(Object(a.i)()));return"".concat("/api/internal/component/element/").concat(t).concat(e)}},569:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i}));var a=n(0),c=n.n(a),s=n(568);function o(t,e){const n=c.a.useRef();n.current=e,c.a.useEffect(()=>{const e=UniversalDashboard.subscribe(t,n.current);return()=>UniversalDashboard.unsubscribe(e)},[t])}const r=(t="",e={})=>{UniversalDashboard.publish("element-event",{type:"clientEvent",eventId:"".concat(elementId).concat(t),eventName:t,eventData:e})};function i(t,e){const{content:n,...c}=e,[i,u]=Object(a.useState)({content:n,attributes:c,onEvent:r});o(t,(t,e)=>{switch(e.type){case"setState":console.log("dashboard event set state",e.state),u(t=>({attributes:{...t.attributes,...e.state.attributes},content:{...e.state.content}}));break;case"requestState":console.log("REQUEST_STATE: ",i),UniversalDashboard.post("/api/internal/component/element/sessionState/".concat(e.requestId),{state:i});break;case"addElement":u(t=>({...t,content:t.content.concat(e.elements)}));break;case"removeElement":u(t=>{console.log("remove element event",e);let n=t.content.filter(t=>t.id!==e.componentId);return{...t,content:[...n]}});break;case"clearElement":u(t=>({...t,content:[]}));break;case"syncElement":l()}});const l=()=>{UniversalDashboard.get(Object(s.a)(t),t=>u(e=>({...e,content:t})))};return[i,l,u]}}}]);